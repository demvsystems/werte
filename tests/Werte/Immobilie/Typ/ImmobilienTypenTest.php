<?php

namespace Demv\Werte\Tests\Immobilie\Typ;

use Demv\Werte\Exception\EntryNotFoundException;
use Demv\Werte\Immobilie\Typ\ImmobilienTypen;
use Demv\Werte\Immobilie\Typ\Typen\FreiesGrundstueck;
use Demv\Werte\Immobilie\Typ\Typen\Haus;
use Demv\Werte\Immobilie\Typ\Typen\Wohnung;
use Demv\Werte\Tests\ProviderTestTrait;
use PHPUnit\Framework\TestCase;

/**
 * Class ImmobilienTypenTest
 * @package Demv\Werte\Tests\Immobilie\Typ
 */
class ImmobilienTypenTest extends TestCase
{
    use ProviderTestTrait;

    private function getImmobilientypen()
    {
        return new ImmobilienTypen();
    }

    public function testGetAll(): void
    {
        $immobilienTypen = $this->getImmobilientypen();
        $this->assertEquals(3, count($immobilienTypen->getAll()));
    }

    public function testGetHaus(): void
    {
        $this->checkGetOne($this->getImmobilientypen(), Haus::class);
    }

    public function testGetWohnung(): void
    {
        $this->checkGetOne($this->getImmobilientypen(), Wohnung::class);
    }

    public function testGetFreiesGrundstueck(): void
    {
        $this->checkGetOne($this->getImmobilientypen(), FreiesGrundstueck::class);
    }

    public function testNotFound(): void
    {
        $this->expectException(EntryNotFoundException::class);
        $this->getImmobilientypen()->getOne(4);
    }
}