<?php

namespace Demv\Werte\Tests;

use Demv\Werte\Dokumente\Dokumenttypen;
use Demv\Werte\Dokumente\Dokumenttypen\Angebot;
use Demv\Werte\Dokumente\Dokumenttypen\Antrag;
use Demv\Werte\Dokumente\Dokumenttypen\Beratungsdokumentation;
use Demv\Werte\Dokumente\Dokumenttypen\Kuendigung;
use Demv\Werte\Dokumente\Dokumenttypen\Leistungsuebersicht;
use Demv\Werte\Dokumente\Dokumenttypen\Sepamandant;
use Demv\Werte\Exception\EntryNotFoundException;
use PHPUnit\Framework\TestCase;

/**
 * Class DokumentTypenTest
 * @package Demv\Werte\Tests\Dokumente
 */
final class DokumenttypenTest extends TestCase
{
    use ProviderTestTrait;

    /**
     * @return Dokumenttypen
     */
    private function getDokumenttypen(): Dokumenttypen
    {
        return new Dokumenttypen();
    }

    public function testGetAll(): void
    {
        $dokumenttypen = $this->getDokumenttypen();
        $this->assertCount(9, $dokumenttypen->getAll());
    }

    public function testGetErstantrag()
    {
        $this->checkGetOne($this->getDokumenttypen(), Angebot::class);
    }

    public function testGetAntrag(): void
    {
        $this->checkGetOne($this->getDokumenttypen(), Antrag::class);
    }

    public function testGetBeratungsdokumentation(): void
    {
        $this->checkGetOne($this->getDokumenttypen(), Beratungsdokumentation::class);
    }

    public function testGetLeistungsuebersicht(): void
    {
        $this->checkGetOne($this->getDokumenttypen(), Leistungsuebersicht::class);
    }

    public function testGetKuendigung(): void
    {
        $this->checkGetOne($this->getDokumenttypen(), Kuendigung::class);
    }

    public function testGetSepamandant(): void
    {
        $this->checkGetOne($this->getDokumenttypen(), Sepamandant::class);
    }

    public function testNotFound(): void
    {
        $this->expectException(EntryNotFoundException::class);
        $this->getDokumenttypen()->getOne(1);
    }
}
