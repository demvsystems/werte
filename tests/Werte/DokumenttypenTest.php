<?php

namespace Demv\Werte\Tests\Dokumente;

use Demv\Werte\Dokumente\Dokumenttypen;
use Demv\Werte\Dokumente\DokumentTypen\Angebot;
use Demv\Werte\Dokumente\DokumentTypen\Antrag;
use Demv\Werte\Dokumente\DokumentTypen\Beratungsdokumentation;
use Demv\Werte\Dokumente\DokumentTypen\Kuendigung;
use Demv\Werte\Dokumente\DokumentTypen\Leistungsuebersicht;
use Demv\Werte\Dokumente\DokumentTypen\Multidoc;
use Demv\Werte\Dokumente\DokumentTypen\Sepamandant;
use Demv\Werte\Exception\EntryNotFoundException;
use Demv\Werte\Tests\ProviderTestTrait;
use PHPUnit\Framework\TestCase;

/**
 * Class DokumentTypenTest
 * @package Demv\Werte\Tests\Dokumente
 */
final class DokumenttypenTest extends TestCase
{
    use ProviderTestTrait;

    /**
     * @return Dokumenttypen
     */
    private function getDokumentTypen(): Dokumenttypen
    {
        return new Dokumenttypen();
    }

    public function testGetAll(): void
    {
        $dokumentTypen = $this->getDokumentTypen();
        $this->assertCount(7, $dokumentTypen->getAll());
    }

    public function testGetErstantrag()
    {
        $this->checkGetOne($this->getDokumentTypen(), Angebot::class);
    }

    public function testGetAntrag(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Antrag::class);
    }

    public function testGetBeratungsdokumentation(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Beratungsdokumentation::class);
    }

    public function testGetLeistungsuebersicht(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Leistungsuebersicht::class);
    }

    public function testGetKuendigung(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Kuendigung::class);
    }

    public function testGetSepamandant(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Sepamandant::class);
    }

    public function testGetMultidoc(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Multidoc::class);
    }

    public function testNotFound(): void
    {
        $this->expectException(EntryNotFoundException::class);
        $this->getDokumentTypen()->getOne(1);
    }
}
