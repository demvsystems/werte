<?php

namespace Demv\Werte\Tests\Dokumente;

use Demv\Werte\Dokumente\DokumentTypen;
use Demv\Werte\Dokumente\DokumentTypen\Antrag;
use Demv\Werte\Dokumente\DokumentTypen\Beratungsdokumentation;
use Demv\Werte\Dokumente\DokumentTypen\Erstantrag;
use Demv\Werte\Dokumente\DokumentTypen\Leistungsvergleich;
use Demv\Werte\Exception\EntryNotFoundException;
use Demv\Werte\Tests\ProviderTestTrait;
use PHPUnit\Framework\TestCase;

/**
 * Class DokumentTypenTest
 * @package Demv\Werte\Tests\Dokumente
 */
final class DokumentTypenTest extends TestCase
{
    use ProviderTestTrait;

    /**
     * @return DokumentTypen
     */
    private function getDokumentTypen(): DokumentTypen
    {
        return new DokumentTypen();
    }

    public function testGetAll(): void
    {
        $dokumentTypen = $this->getDokumentTypen();
        $this->assertCount(4, $dokumentTypen->getAll());
    }

    public function testGetErstantrag()
    {
        $this->checkGetOne($this->getDokumentTypen(), Erstantrag::class);
    }

    public function testGetAntrag(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Antrag::class);
    }

    public function testGetBeratungsdokumentation(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Beratungsdokumentation::class);
    }

    public function testGetLeistungsvergleich(): void
    {
        $this->checkGetOne($this->getDokumentTypen(), Leistungsvergleich::class);
    }

    public function testNotFound(): void
    {
        $this->expectException(EntryNotFoundException::class);
        $this->getDokumentTypen()->getOne(1);
    }
}
